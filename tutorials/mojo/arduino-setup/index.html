<!DOCTYPE html>
<html lang="en" dir="auto">
<head>
    
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Setting up the Arduino IDE</title>


<meta name="keywords" content="keyword1, keyword2, keyword3">



<meta name="description" content="">



<meta name="author" content="Justin Rajewski">


<link rel="canonical" href="https:&#x2F;&#x2F;alchitry.com&#x2F;tutorials&#x2F;mojo&#x2F;arduino-setup&#x2F;">


<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Ubuntu+Mono:ital,wght@0,400;0,700;1,400;1,700&family=Ubuntu:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">

<link rel="stylesheet" href="https://alchitry.com/css/styles.css">
<link rel="stylesheet" href="https://alchitry.com/css/override.css">


<link rel="icon" href="https://alchitry.com/favicon.svg" type="image/svg+xml">
<link rel="icon" type="image/png" sizes="16x16" href="https://alchitry.com/favicon_16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://alchitry.com/favicon_32.png">
<link rel="apple-touch-icon" href="https://alchitry.com/apple-touch-icon.png"><!-- 180×180 -->
<meta name="theme-color" content="#333333">


<link rel="alternate" type="application/atom+xml" title="RSS" href="https://alchitry.com/atom.xml">


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }
    </style>
    
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
    
</noscript>



    
</head>
<body class=" dark" id="top">
    
    
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }
</script>
<link rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,1,0"/>

<header class="header">

    <nav class="nav">
        <div class="logo">
            <a href="https:&#x2F;&#x2F;alchitry.com" accesskey="h" title="Alchitry (Alt + H)"><img src="https://alchitry.com/alchitry.svg"
                                                         alt="Alchitry"
                                                         aria-label="Alchitry">
            </a>
        </div>
        
        <div id="nav-search">
            <ul id="menu" class="desktop-nav">
                
                
                
                <li>
                    <a href="https:&#x2F;&#x2F;shop.alchitry.com&#x2F;collections&#x2F;products" title="Boards">
                        <span>Boards</span>
                        
                    </a>
                </li>
                
                
                
                <li>
                    <a href="https:&#x2F;&#x2F;alchitry.com&#x2F;news" title="News">
                        <span>News</span>
                        
                    </a>
                </li>
                
                
                
                <li>
                    <a href="https:&#x2F;&#x2F;alchitry.com&#x2F;tutorials" title="Tutorials">
                        <span>Tutorials</span>
                        
                    </a>
                </li>
                
                
                
                <li>
                    <a href="https:&#x2F;&#x2F;alchitry.com&#x2F;alchitry-labs" title="Alchitry Labs">
                        <span>Alchitry Labs</span>
                        
                    </a>
                </li>
                
                
                
                <li>
                    <a href="https:&#x2F;&#x2F;forum.alchitry.com" title="Forum">
                        <span>Forum</span>
                        
                    </a>
                </li>
                
            </ul>
            <div class="search-container">
                <input class="search" type="search" placeholder="Search" autocomplete="off">
                <span class="material-symbols-outlined search-icon">search</span>

                <div class="search-results">
                    <div class="search-results__items"></div>
                </div>
            </div>
        </div>
        <div id="overlayNavOpen">
            <span onclick="openNav()" class="material-symbols-outlined">menu</span>
        </div>
        
    </nav>
</header>


<div id="overlayNav" class="overlay">
    <div class="overlay-header">
        <div class="search-container">
            <input class="search" type="search" placeholder="Search" autocomplete="off">
            <span class="material-symbols-outlined search-icon">search</span>

            <div class="search-results">
                <div class="search-results__items"></div>
            </div>
        </div>
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
    </div>

    <div class="overlay-content">
        
        
        
        <a href="https:&#x2F;&#x2F;shop.alchitry.com&#x2F;collections&#x2F;products" title="Boards">
            <span>Boards</span>
            
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;alchitry.com&#x2F;news" title="News">
            <span>News</span>
            
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;alchitry.com&#x2F;tutorials" title="Tutorials">
            <span>Tutorials</span>
            
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;alchitry.com&#x2F;alchitry-labs" title="Alchitry Labs">
            <span>Alchitry Labs</span>
            
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;forum.alchitry.com" title="Forum">
            <span>Forum</span>
            
        </a>
        
    </div>
</div>

    
    <main class="main">
        
<article class="post-single">
    <header class="post-header">
        <div class="breadcrumbs">
            
            <div class="breadcrumb-container">
                <a class="breadcrumb-path" href="/">Home</a>
                
                
                
                
                
                <span class="breadcrumb-separator">»</span>
                
                <a class="breadcrumb-path" href="https:&#x2F;&#x2F;alchitry.com&#x2F;tutorials&#x2F;">Tutorials</a>
                
                
                <span class="breadcrumb-separator">»</span>
                
                <a class="breadcrumb-path" href="https:&#x2F;&#x2F;alchitry.com&#x2F;tutorials&#x2F;mojo&#x2F;">Mojo</a>
                
                <span class="breadcrumb-separator">»</span>
                <a class="breadcrumb-path active" href="https:&#x2F;&#x2F;alchitry.com&#x2F;tutorials&#x2F;mojo&#x2F;arduino-setup&#x2F;">Setting up the Arduino IDE</a>
            </div>
            
        </div>
        <h1 class="post-title">Setting up the Arduino IDE</h1>
        
        
        <div class="post-meta">
            













6 min&nbsp;·&nbsp;Justin Rajewski

            &nbsp;|&nbsp;&nbsp;<a href="https:&#x2F;&#x2F;github.com&#x2F;alchitry&#x2F;alchitry.github.io&#x2F;tree&#x2F;master/content/tutorials&#x2F;mojo&#x2F;arduino-setup.md" rel="noopener noreferrer" target="_blank">Suggest Changes</a>

        </div>
        
    </header>

    
    

<div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner">
            <ul>
                
                <li>
                    <a href="#arduino-ide-1-6-5" aria-label="Arduino IDE 1.6.5">Arduino IDE 1.6.5</a>
                    
                </li>
                
                <li>
                    <a href="#arduino-ide-1-0-5" aria-label="Arduino IDE 1.0.5">Arduino IDE 1.0.5</a>
                    
                    <ul>
                    
                        <li>
                            <a href="#installing-the-arduino-ide" aria-label="Installing the Arduino IDE">Installing the Arduino IDE</a>
                            
                        </li>
                    
                        <li>
                            <a href="#adding-the-mojo" aria-label="Adding the Mojo">Adding the Mojo</a>
                            
                        </li>
                    
                    </ul>
                    
                </li>
                
                <li>
                    <a href="#getting-started" aria-label="Getting Started">Getting Started</a>
                    
                    <ul>
                    
                        <li>
                            <a href="#notes-about-our-code" aria-label="Notes About Our Code">Notes About Our Code</a>
                            
                        </li>
                    
                    </ul>
                    
                </li>
                
            </ul>
        </div>
    </details>
</div>


    

    
    <div class="post-content">
        <p>All new Mojo's are shipping with a new bootloader that is Arduino compatible. That means that if you want to modify the code that ships on the Mojo, you can from the comfort of the Arduino IDE.</p>
<p>If your Mojo shipped to you in a small custom printed box (shipping since Jan 2014), it is already Arduino compatible. However, if you ordered a Mojo V3 before or have a Mojo V2, you can visit the <a href="https://alchitry.com/tutorials/mojo/mojo-bootloader/">Flashing the Bootloader</a> page after installing the Arduino IDE for instructions on upgrading.</p>
<p>Please note that if you have a Mojo V2, you need to use the Arduino IDE version 1.6.5.</p>
<p>Note, you do not need to use the Arduino IDE or code at all to use the Mojo. This is only for people who want to program <strong>BOTH</strong> the FPGA and the microcontroller. If you only want to program the FPGA jump into the <a href="https://alchitry.com/tutorials/">FPGA tutorials</a>.</p>
<h2 id="arduino-ide-1-6-5">Arduino IDE 1.6.5</h2>
<p>Arduino has recently released version 1.6.5 of their IDE which makes third part extensions much easier. If you are using version 1.6.5, download the <a href="https://cdn.embeddedmicro.com/arduino/arduino-mojo-plugin.zip">Arduino Mojo Plugin</a>.</p>
<p>Extract the zip into your sketchbook (typically <strong>C:\Users\YOURNAME\Arduino</strong> for Windows or <strong>/home/YOURNAME/Arduino</strong> for Linux).</p>
<p>Under <strong>Arduino/hardware/embeddedmicro/avr/</strong> you should see a handful of folders and the <strong>boards.txt</strong> and <strong>platform.txt</strong> files.</p>
<p>You can now fire up the IDE and jump down to the <strong>Getting Started</strong> section of this tutorial.</p>
<h2 id="arduino-ide-1-0-5">Arduino IDE 1.0.5</h2>
<h3 id="installing-the-arduino-ide">Installing the Arduino IDE</h3>
<p>The first step of this process is to to just download and install the Arduino IDE!</p>
<p>Head over to the <a href="http://arduino.cc/en/Main/Software">Arduino website</a> and download version <strong>1.0.5</strong> of the IDE.</p>
<p>If you are running Ubuntu you can install the IDE directly from the Ubuntu Software Center, or by entering the following command in the terminal.</p>
<pre data-lang="bash" style="background-color:#282828;color:#ffffff;" class="language-bash "><code class ="language-bash" data-lang="bash"><span style="color:#6699cc;">sudo apt-get install arduino
</span></code></pre>
<h3 id="adding-the-mojo">Adding the Mojo</h3>
<p>Once the IDE is installed, you will need to edit some files to make it work with the Mojo.</p>
<p>Download all the files you will need <a href="https://cdn.embeddedmicro.com/arduino/arduinoMod.zip">here</a> and extract the zip somewhere you can find it.</p>
<p>You now need to find where the files for the Arduino IDE live.</p>
<p>If you are using <strong>Windows</strong> and you installed it via their installer, the files most likely live at <strong>C:\Program Files (x86)\Arduino</strong>.</p>
<p>If you are using <strong>Ubuntu</strong> and you installed it via the Software Center or the terminal, the files most likely live at <strong>/usr/share/arduino</strong>. You will need to edit some files here so you will need to open a file browser with root privileges. Press <strong>alt+F2</strong> and type in <strong>gksu nautilus</strong>. Hit enter and type in your password. <strong>Be careful because in this file browser you will be able to delete system files!</strong></p>
<p>Once you find the Arduino files, open the <strong>hardware</strong> folder, then open the <strong>arduino</strong> folder.</p>
<p>You should now see the <strong>boards.txt</strong> file. Use the <strong>boards.txt</strong> file from the zip you downloaded earlier to replace the Arduino one.</p>
<p>The new file contains the declaration of the Mojo telling the Arduino IDE how to handle it.</p>
<p>Now simply copy all the files in the <strong>arduinoMod.zip</strong> to the <strong>hardware/arduino</strong> folder. You should merge the various directories replacing only the files that are included in the modified files.</p>
<h2 id="getting-started">Getting Started</h2>
<p>To get started you need to download our base sketch that does the loading. To do this checkout our <a href="https://github.com/embmicro/mojo-arduino">GitHub page</a> or download the zip directly from <a href="https://github.com/embmicro/mojo-arduino/archive/master.zip">here</a>.</p>
<p>Create a folder name <strong>mojo_loader</strong> in your sketchbook and extract the files into that folder. Arduino requires that the folder name match the main .ino file (in this case <strong>mojo_loader.ino</strong>). </p>
<p>Make sure that the Mojo is selected by going to <strong>Tools/Boards</strong> and selecting <strong>Mojo V3</strong>. Also make sure you select the correct serial port in <strong>Tools/Serial Port</strong> before trying to program the Mojo.</p>
<p>In the main <strong>mojo_loader</strong> file there are only three functions you should have to change for most projects. They are <strong>initPostLoad()</strong>, <strong>disablePostLoad()</strong>, and <strong>userLoop()</strong>.</p>
<p><strong>initPostLoad()</strong> is called before <strong>userLoop()</strong> and should be used to do any setup your code needs.</p>
<p><strong>disablePostLoad()</strong> is called before the Mojo enters loading mode and is used to <strong>undo</strong> anything you did in <strong>initPostLoad()</strong>. If you fail to properly undo your setup, the loading code may not function properly.</p>
<p><strong>userLoop()</strong> is where the bulk of your code should live. This acts much the same way as the basic <strong>loop()</strong> function provided by Arduino, but is only called when the FPGA has already been loaded. You should try to keep the loop duration fairly short so that the Mojo Loader will be able to get the Mojo into loading mode in a reasonable amount of time.</p>
<h3 id="notes-about-our-code">Notes About Our Code</h3>
<p>If you look through our code you may notice we don't use some the Arduino libraries for things. In some cases it didn't make sense to use the libraries because we could do things more efficiently by accessing the registers directly. </p>
<p>The most noticeable example of this is we don't use <strong>digitalWrite()</strong>. Instead, we have use <strong>SET()</strong> which is a macro defined in <strong>hardware.h</strong>. <strong>digitalWrite()</strong> is actually fairly slow due to the fact that it disables and re-enables interrupts every time it is called. This was done so that if you are calling it from inside interrupts, it will work as expected. However, we never do that so the overhead is for nothing. <strong>SET()</strong> is as basic as you can get for setting pins, but it works basically the same way that <strong>digitalWrite()</strong> does.</p>
<p>We also decided not to use the libraries for <strong>Serial1</strong> and the <strong>ADC</strong>. This is because we did some fancy stuff with interrupts and ring buffers to allow the FPGA to have fast access to the USB port and the ADC. </p>
<p>If you don't want to use these optimizations, feel free to remove this code and replace it with the Arduino libraries.</p>

    </div>
    

    <footer class="post-footer">
        

        
        



<nav class="paginav">
    
        
        
        <a class="next" href="https:&#x2F;&#x2F;alchitry.com&#x2F;tutorials&#x2F;mojo&#x2F;mojo-bootloader&#x2F;">
            <span class="title">Next »</span>
            <br>
            <span>Flashing the Bootloader</span>
        </a>
        
    
</nav>


        
        
    </footer>

</article>

    </main>
    
    <footer class="footer">
    <div>
        <div class="social-icons">
    
    <a href="https:&#x2F;&#x2F;github.com&#x2F;alchitry" target="_blank" rel="noopener noreferrer me" title="GitHub">
        

<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path
        d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22">
    </path>
</svg>


    </a>
    
    <a href="https:&#x2F;&#x2F;youtube.com&#x2F;c&#x2F;alchitry" target="_blank" rel="noopener noreferrer me" title="YouTube">
        

<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path
        d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z">
    </path>
    <polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon>
</svg>


    </a>
    
    <a href="https:&#x2F;&#x2F;alchitry.com&#x2F;atom.xml" target="_blank" rel="noopener noreferrer me" title="RSS">
        

<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path d="M4 11a9 9 0 0 1 9 9" />
    <path d="M4 4a16 16 0 0 1 16 16" />
    <circle cx="5" cy="19" r="1" />
</svg>


    </a>
    
</div>

        <span>&copy; 2025 <a href="https:&#x2F;&#x2F;alchitry.com">Alchitry</a></span>
    </div>
</footer>


<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z"/>
    </svg>
</a>


<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>


<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>


<script>
    /* Open */
    function openNav() {
        document.getElementById("overlayNav").style.display = "block";
    }

    /* Close */
    function closeNav() {
        document.getElementById("overlayNav").style.display = "none";
    }
</script>



<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'copy';

        function copyingDone() {
            copybutton.innerText = 'copied!';
            setTimeout(() => {
                copybutton.innerText = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) {
            }
            ;
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            // td containing LineNos
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            // table containing LineNos and code
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            // code blocks not having highlight as parent class
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>

<script type="text/javascript" src="https://alchitry.com/elasticlunr.min.js"></script>
<script type="text/javascript" src="https://alchitry.com/search.js"></script>
    
</body>
</html>
