<!DOCTYPE html>
<html lang="en" dir="auto">
<head>
    
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Alchitry Labs V2.0.21 - Alchitry Constraints Updated</title>


<meta name="keywords" content="keyword1, keyword2, keyword3">



<meta name="description" content="">



<meta name="author" content="Justin Rajewski">


<link rel="canonical" href="https:&#x2F;&#x2F;alchitry.com&#x2F;news&#x2F;alchitry-labs-v2-0-21-acf&#x2F;">


<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Ubuntu+Mono:ital,wght@0,400;0,700;1,400;1,700&family=Ubuntu:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">

<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
<script type="importmap">
    {
      "imports": {
        "@material/web/": "https://esm.run/@material/web/"
      }
    }
</script>
<script type="module">
    import '@material/web/all.js';
    import {styles as typescaleStyles} from '@material/web/typography/md-typescale-styles.js';

    document.adoptedStyleSheets.push(typescaleStyles.styleSheet);
</script>

<link rel="stylesheet" href="https://alchitry.com/styles.css">
<link rel="stylesheet" href="https://alchitry.com/override.css">

<link rel="icon" href="https://alchitry.com/favicon.svg" type="image/svg+xml">
<link rel="icon" type="image/png" sizes="16x16" href="https://alchitry.com/favicon_16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://alchitry.com/favicon_32.png">
<link rel="apple-touch-icon" href="https://alchitry.com/apple-touch-icon.png"><!-- 180×180 -->
<meta name="theme-color" content="#333333">


<link rel="alternate" type="application/atom+xml" title="RSS" href="https://alchitry.com/atom.xml">


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }
    </style>
    
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
    
</noscript>



    
</head>
<body class=" dark" id="top">
    
    
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }
</script>
<link rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,1,0"/>

<header class="header">

    <nav class="nav">
        <div class="logo">
            <a href="https:&#x2F;&#x2F;alchitry.com" accesskey="h" title="Alchitry (Alt + H)"><img src="https://alchitry.com/alchitry.svg"
                                                         alt="Alchitry"
                                                         aria-label="Alchitry">
            </a>
        </div>
        
        <div id="nav-search">
            <ul id="menu" class="desktop-nav">
                
                
                
                <li>
                    <a href="https:&#x2F;&#x2F;shop.alchitry.com&#x2F;collections&#x2F;products" title="Boards">
                        <span>Boards</span>
                        
                    </a>
                </li>
                
                
                
                <li>
                    <a href="https:&#x2F;&#x2F;alchitry.com&#x2F;news" title="News">
                        <span>News</span>
                        
                    </a>
                </li>
                
                
                
                <li>
                    <a href="https:&#x2F;&#x2F;alchitry.com&#x2F;tutorials" title="Tutorials">
                        <span>Tutorials</span>
                        
                    </a>
                </li>
                
                
                
                <li>
                    <a href="https:&#x2F;&#x2F;alchitry.com&#x2F;alchitry-labs" title="Alchitry Labs">
                        <span>Alchitry Labs</span>
                        
                    </a>
                </li>
                
                
                
                <li>
                    <a href="https:&#x2F;&#x2F;forum.alchitry.com" title="Forum">
                        <span>Forum</span>
                        
                    </a>
                </li>
                
            </ul>
            <div class="search-container">
                <input class="search" type="search" placeholder="Search" autocomplete="off">
                <span class="material-symbols-outlined search-icon">search</span>

                <div class="search-results">
                    <div class="search-results__items"></div>
                </div>
            </div>
        </div>
        <div id="overlayNavOpen">
            <span onclick="openNav()" class="material-symbols-outlined">menu</span>
        </div>
        
    </nav>
</header>


<div id="overlayNav" class="overlay">
    <div class="overlay-header">
        <div class="search-container">
            <input class="search" type="search" placeholder="Search" autocomplete="off">
            <span class="material-symbols-outlined search-icon">search</span>

            <div class="search-results">
                <div class="search-results__items"></div>
            </div>
        </div>
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
    </div>

    <div class="overlay-content">
        
        
        
        <a href="https:&#x2F;&#x2F;shop.alchitry.com&#x2F;collections&#x2F;products" title="Boards">
            <span>Boards</span>
            
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;alchitry.com&#x2F;news" title="News">
            <span>News</span>
            
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;alchitry.com&#x2F;tutorials" title="Tutorials">
            <span>Tutorials</span>
            
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;alchitry.com&#x2F;alchitry-labs" title="Alchitry Labs">
            <span>Alchitry Labs</span>
            
        </a>
        
        
        
        <a href="https:&#x2F;&#x2F;forum.alchitry.com" title="Forum">
            <span>Forum</span>
            
        </a>
        
    </div>
</div>

    
    <main class="main">
        
<article class="post-single">
    <header class="post-header">
        <div class="breadcrumbs">
            
            <div class="breadcrumb-container">
                <a class="breadcrumb-path" href="/">Home</a>
                
                
                
                
                
                <span class="breadcrumb-separator">»</span>
                
                <a class="breadcrumb-path" href="https:&#x2F;&#x2F;alchitry.com&#x2F;news&#x2F;">News</a>
                
                <span class="breadcrumb-separator">»</span>
                <a class="breadcrumb-path active" href="https:&#x2F;&#x2F;alchitry.com&#x2F;news&#x2F;alchitry-labs-v2-0-21-acf&#x2F;">Alchitry Labs V2.0.21 - Alchitry Constraints Updated</a>
            </div>
            
        </div>
        <h1 class="post-title">Alchitry Labs V2.0.21 - Alchitry Constraints Updated</h1>
        
        
        <div class="post-meta">
            
















<span>2024-12-26</span>&nbsp;·&nbsp;7 min&nbsp;·&nbsp;Justin Rajewski

            &nbsp;|&nbsp;&nbsp;<a href="https:&#x2F;&#x2F;github.com&#x2F;alchitry&#x2F;alchitry.github.io&#x2F;tree&#x2F;master/content/news&#x2F;alchitry-labs-V2.0.21-acf.md" rel="noopener noreferrer" target="_blank">Suggest Changes</a>

        </div>
        
    </header>

    
    

<div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner">
            <ul>
                
                <li>
                    <a href="#" aria-label=""></a>
                    
                    <ul>
                    
                        <li>
                            <a href="#-1" aria-label=""></a>
                            
                        </li>
                    
                        <li>
                            <a href="#-2" aria-label=""></a>
                            
                        </li>
                    
                        <li>
                            <a href="#-3" aria-label=""></a>
                            
                        </li>
                    
                        <li>
                            <a href="#-4" aria-label=""></a>
                            
                        </li>
                    
                        <li>
                            <a href="#-5" aria-label=""></a>
                            
                        </li>
                    
                        <li>
                            <a href="#-6" aria-label=""></a>
                            
                        </li>
                    
                    </ul>
                    
                </li>
                
                <li>
                    <a href="#attribute-blocks" aria-label="Attribute Blocks">Attribute Blocks</a>
                    
                </li>
                
            </ul>
        </div>
    </details>
</div>


    

    
    <div class="post-content">
        <p><a href="https://alchitry.com/alchitry-labs/">Alchitry Labs V2.0.21-BETA</a> just dropped with support for the new <a href="https://shop.alchitry.com/collections/all">Alchitry V2 boards</a>.</p>
<p>To properly support the new boards, the format for Alchitry Constraint Files (ACF) was updated. <span id="continue-reading"></span>
The format for every constraint now has the following format.</p>
<pre data-lang="acf" style="background-color:#282828;color:#ffffff;" class="language-acf "><code class ="language-acf" data-lang="acf"><span style="color:#0a8dbf;">pin </span><span style="color:#d45ada;">PORT PIN OPTIONAL_ATTRIBUTES
</span></code></pre>
<p>Just like before <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">PORT</span></code> is a port from your design's top-level module and <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">PIN</span></code> in the Alchitry pin to connect it to.</p>
<p>Most of the time, the <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">PIN</span></code> name will follow a format of bank letter followed by the pin number like <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">A2</span></code> for bank A pin 2.
However, there are special values such as <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">LED0</span></code> which corresponds to the pin connected to the first LED on the board.
You can take a look at the current <a href="https://github.com/alchitry/Alchitry-Labs-V2/tree/master/src/main/kotlin/com/alchitry/labs2/hardware/pinout">pinout files</a> if you're curious about the full list.</p>
<h1 id=""><code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">OPTIONAL_ATTRIBUTES</span></code><a class="anchor" aria-hidden="true" href="#" hidden="">#</a>
</h1>
<p>The new part of the constraints are the <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">OPTIONAL_ATTRIBUTES</span></code>.</p>
<p>Each attribute takes the form <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">ATTRIBUTE</span><span style="color:#ed4343;">(</span><span style="color:#d45ada;">VALUE</span><span style="color:#ed4343;">)</span></code>.</p>
<p>There are currently six of attributes; <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">PINOUT</span></code>, <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">STANDARD</span></code>, <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">FREQUENCY</span></code>, <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">PULL</span></code>, <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">DRIVE</span></code>, and <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">SLEW</span></code>.</p>
<h2 id="-1"><code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">PINOUT</span></code><a class="anchor" aria-hidden="true" href="#-1" hidden="">#</a>
</h2>
<p>Let's start with <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">PINOUT</span></code>.
This attribute has two valid values, <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">V1</span></code> and <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">V2</span></code>.
This can be used to specify what version of connectors you are using.</p>
<p>If you're using a V1 board, then <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">V1</span></code> is the only valid option.
If you're using a V2 board and set it to <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">V1</span></code>, the tools assume you are using a <a href="https://shop.alchitry.com/products/alchitry-v2-v1-adapter">V2 → V1 adapter</a> for those pins.</p>
<p>If <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">PINOUT</span></code> isn't specified, the current board version is assumed.
This is useful in the niche case where you're only specifying pins common across every board like in base <code class ="language-acf" data-lang="acf"><span>alchitry.acf</span></code> file.</p>
<h2 id="-2"><code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">STANDARD</span></code><a class="anchor" aria-hidden="true" href="#-2" hidden="">#</a>
</h2>
<p>The next attribute is <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">STANDARD</span></code>.
This is used to set the IO standard.
Most of the time this is <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">LVCMOS33</span></code> and this was set implicitly before.
If you're using a Cu, then this is the only valid option.
However, if you're using any version of the Au, then there are many more options.
The Xilinx document <a href="https://docs.amd.com/v/u/en-US/ug471_7Series_SelectIO">UG471</a> goes into a lot of detail about the various options.
Not every option in that document is supported, however.</p>
<p>Each IO standard has its requirements to use it.
The biggest constraint on these is the required VCCO.
VCCO is the voltage used to power that bank of IO pins.
Most banks on the Au are powered by 3.3V.
However, on the Au and Au+, one bank can be switched to 1.8V.
On the Au/Pt V2, that bank can be switched to 2.5V.</p>
<p>The Au/Pt V2 uses 2.5V instead of 1.8V to enable <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">LVDS_25</span></code>.
<code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">LVDS_25</span></code> is a pretty common standard and it compatible with a lot of LVDS devices.
You can check the Xilinx document <a href="https://docs.amd.com/v/u/en-US/ds181_Artix_7_Data_Sheet">DS181</a> for the switching voltages to ensure compatibility with your device.</p>
<p>Other than <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">LVDS_25</span></code> and <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">LVCMOS33</span></code>, you'll likely see <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">LVCMOS25</span></code> for single ended signals on the dual voltage pins and <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">TMDS_33</span></code> for HDMI signals.</p>
<h2 id="-3"><code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">FREQUENCY</span></code><a class="anchor" aria-hidden="true" href="#-3" hidden="">#</a>
</h2>
<p>In the new version of Alchitry Constraints, the <code class ="language-acf" data-lang="acf"><span>clock</span></code> keyword was removed in favor of the <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">FREQUENCY</span></code> attribute.
When you have a clock, you now specify it as any other <code class ="language-acf" data-lang="acf"><span style="color:#0a8dbf;">pin</span></code> but you add the <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">FREQUENCY</span></code> attribute specifying the expected frequency.</p>
<p>The value passed to it takes the same format as clocks before, a value with a unit suffix.
For example, <code class ="language-acf" data-lang="acf"><span>100MHz</span></code> or <code class ="language-acf" data-lang="acf"><span>500KHz</span></code>.</p>
<h2 id="-4"><code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">PULL</span></code><a class="anchor" aria-hidden="true" href="#-4" hidden="">#</a>
</h2>
<p>Before, <code class ="language-acf" data-lang="acf"><span>pullup</span></code> and <code class ="language-acf" data-lang="acf"><span>pulldown</span></code> were keywords you could tak onto the end of a <code class ="language-acf" data-lang="acf"><span style="color:#0a8dbf;">pin</span></code> constraint.
Now the <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">PULL</span></code> attribute takes this place.</p>
<p>For the Cu, <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">PULL</span></code> can have a value of <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">UP</span></code> to enable the pin's pullup.</p>
<p>For the Au/Pt, <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">PULL</span></code> can have a value of <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">UP</span></code>, <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">DOWN</span></code>, or <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">KEEP</span></code>.
<code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">UP</span></code> and <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">DOWN</span></code> enable the pin's pullup or pulldown respectively.
<code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">KEEP</span></code> enables the pin's keeper.</p>
<p>The keeper will weakly try to keep the pin at its current value.
If the pin is low, the pulldown is enabled.
If the pin is high, the pullup is enabled.</p>
<h2 id="-5"><code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">DRIVE</span></code><a class="anchor" aria-hidden="true" href="#-5" hidden="">#</a>
</h2>
<p>The <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">DRIVE</span></code> attribute is only valid on the Au/Pt.</p>
<p>Some <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">STANDARD</span></code> values allow for a drive setting. 
These include <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">LVCMOS33</span></code>, <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">LVCMOS25</span></code>, and <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">LVTTL</span></code>.</p>
<p>The <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">DRIVE</span></code> attribute takes in a number that specifies how strong that pin should be driven in mA.</p>
<p>Valid values for <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">LVCMOS33</span></code> and <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">LVCMOS25</span></code> include 4, 8, 12, or 16.</p>
<p>Valid values for <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">LVTTL</span></code> include 4, 8, 12, 16, or 24.</p>
<p>The default value is 12.</p>
<h2 id="-6"><code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">SLEW</span></code><a class="anchor" aria-hidden="true" href="#-6" hidden="">#</a>
</h2>
<p>The <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">SLEW</span></code> attribute is only valid on the Au/Pt and for specific <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">STANDARD</span></code> values.
Most standards support it but notably <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">LVDS_25</span></code> does not.</p>
<p>It takes a value of <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">FAST</span></code> or <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">SLOW</span></code> with <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">SLOW</span></code> being the default.</p>
<p>Slew rate is how fast a signal transitions.
Using <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">FAST</span></code> may be a good choice for some high speed signals but may lead to reflections and increased noise if not properly designed for.
<code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">FAST</span></code> also requires more power.</p>
<h1 id="attribute-blocks">Attribute Blocks<a class="anchor" aria-hidden="true" href="#attribute-blocks" hidden="">#</a>
</h1>
<p>It is common to want to apply the same attribute value to a bunch of pins.
This is where attribute blocks come in!</p>
<p>These take the same form of <a href="https://alchitry.com/tutorials/references/lucid-reference/#connection-blocks">connection blocks</a> in Lucid.
That is, a comma seperated list of attributes followed by a block of constraints enclosed in braces.</p>
<p>Here's the constraint file for the Io V1 with pulldowns enabled.</p>
<pre data-lang="acf" style="background-color:#282828;color:#ffffff;" class="language-acf "><code class ="short language-acf" data-lang="acf"><span style="color:#d45ada;">PINOUT</span><span style="color:#ed4343;">(</span><span style="color:#d45ada;">V1</span><span style="color:#ed4343;">), </span><span style="color:#d45ada;">STANDARD</span><span style="color:#ed4343;">(</span><span style="color:#d45ada;">LVCMOS33</span><span style="color:#ed4343;">) {
</span><span>    </span><span style="color:#0a8dbf;">pin</span><span> io_led</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">0</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">0</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">B21
</span><span>    </span><span style="color:#0a8dbf;">pin</span><span> io_led</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">0</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">1</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">B20
</span><span>    </span><span style="color:#0a8dbf;">pin</span><span> io_led</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">0</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">2</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">B18
</span><span>    </span><span style="color:#0a8dbf;">pin</span><span> io_led</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">0</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">3</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">B17
</span><span>    </span><span style="color:#0a8dbf;">pin</span><span> io_led</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">0</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">4</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">B15
</span><span>    </span><span style="color:#0a8dbf;">pin</span><span> io_led</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">0</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">5</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">B14
</span><span>    </span><span style="color:#0a8dbf;">pin</span><span> io_led</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">0</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">6</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">B12
</span><span>    </span><span style="color:#0a8dbf;">pin</span><span> io_led</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">0</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">7</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">B11
</span><span>    </span><span style="color:#0a8dbf;">pin</span><span> io_led</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">1</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">0</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">B9
</span><span>    </span><span style="color:#0a8dbf;">pin</span><span> io_led</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">1</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">1</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">B8
</span><span>    </span><span style="color:#0a8dbf;">pin</span><span> io_led</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">1</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">2</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">B6
</span><span>    </span><span style="color:#0a8dbf;">pin</span><span> io_led</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">1</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">3</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">B5
</span><span>    </span><span style="color:#0a8dbf;">pin</span><span> io_led</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">1</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">4</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">B3
</span><span>    </span><span style="color:#0a8dbf;">pin</span><span> io_led</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">1</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">5</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">B2
</span><span>    </span><span style="color:#0a8dbf;">pin</span><span> io_led</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">1</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">6</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">A24
</span><span>    </span><span style="color:#0a8dbf;">pin</span><span> io_led</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">1</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">7</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">A23
</span><span>    </span><span style="color:#0a8dbf;">pin</span><span> io_led</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">2</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">0</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">A21
</span><span>    </span><span style="color:#0a8dbf;">pin</span><span> io_led</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">2</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">1</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">A20
</span><span>    </span><span style="color:#0a8dbf;">pin</span><span> io_led</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">2</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">2</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">A18
</span><span>    </span><span style="color:#0a8dbf;">pin</span><span> io_led</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">2</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">3</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">A17
</span><span>    </span><span style="color:#0a8dbf;">pin</span><span> io_led</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">2</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">4</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">A15
</span><span>    </span><span style="color:#0a8dbf;">pin</span><span> io_led</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">2</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">5</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">A14
</span><span>    </span><span style="color:#0a8dbf;">pin</span><span> io_led</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">2</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">6</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">A12
</span><span>    </span><span style="color:#0a8dbf;">pin</span><span> io_led</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">2</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">7</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">A11
</span><span>
</span><span>    </span><span style="color:#d45ada;">PULL</span><span style="color:#ed4343;">(</span><span style="color:#d45ada;">DOWN</span><span style="color:#ed4343;">) {
</span><span>        </span><span style="color:#0a8dbf;">pin</span><span> io_dip</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">0</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">0</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">B30
</span><span>        </span><span style="color:#0a8dbf;">pin</span><span> io_dip</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">0</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">1</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">B31
</span><span>        </span><span style="color:#0a8dbf;">pin</span><span> io_dip</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">0</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">2</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">B33
</span><span>        </span><span style="color:#0a8dbf;">pin</span><span> io_dip</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">0</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">3</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">B34
</span><span>        </span><span style="color:#0a8dbf;">pin</span><span> io_dip</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">0</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">4</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">B36
</span><span>        </span><span style="color:#0a8dbf;">pin</span><span> io_dip</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">0</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">5</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">B37
</span><span>        </span><span style="color:#0a8dbf;">pin</span><span> io_dip</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">0</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">6</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">B39
</span><span>        </span><span style="color:#0a8dbf;">pin</span><span> io_dip</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">0</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">7</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">B40
</span><span>        </span><span style="color:#0a8dbf;">pin</span><span> io_dip</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">1</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">0</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">B42
</span><span>        </span><span style="color:#0a8dbf;">pin</span><span> io_dip</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">1</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">1</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">B43
</span><span>        </span><span style="color:#0a8dbf;">pin</span><span> io_dip</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">1</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">2</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">B45
</span><span>        </span><span style="color:#0a8dbf;">pin</span><span> io_dip</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">1</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">3</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">B46
</span><span>        </span><span style="color:#0a8dbf;">pin</span><span> io_dip</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">1</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">4</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">B48
</span><span>        </span><span style="color:#0a8dbf;">pin</span><span> io_dip</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">1</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">5</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">B49
</span><span>        </span><span style="color:#0a8dbf;">pin</span><span> io_dip</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">1</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">6</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">A27
</span><span>        </span><span style="color:#0a8dbf;">pin</span><span> io_dip</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">1</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">7</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">A28
</span><span>        </span><span style="color:#0a8dbf;">pin</span><span> io_dip</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">2</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">0</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">A30
</span><span>        </span><span style="color:#0a8dbf;">pin</span><span> io_dip</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">2</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">1</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">A31
</span><span>        </span><span style="color:#0a8dbf;">pin</span><span> io_dip</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">2</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">2</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">A33
</span><span>        </span><span style="color:#0a8dbf;">pin</span><span> io_dip</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">2</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">3</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">A34
</span><span>        </span><span style="color:#0a8dbf;">pin</span><span> io_dip</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">2</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">4</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">A36
</span><span>        </span><span style="color:#0a8dbf;">pin</span><span> io_dip</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">2</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">5</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">A37
</span><span>        </span><span style="color:#0a8dbf;">pin</span><span> io_dip</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">2</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">6</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">A39
</span><span>        </span><span style="color:#0a8dbf;">pin</span><span> io_dip</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">2</span><span style="color:#ed4343;">][</span><span style="color:#a269dc;">7</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">A40
</span><span>
</span><span>        </span><span style="color:#0a8dbf;">pin</span><span> io_button</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">0</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">B28
</span><span>        </span><span style="color:#0a8dbf;">pin</span><span> io_button</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">1</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">B27
</span><span>        </span><span style="color:#0a8dbf;">pin</span><span> io_button</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">2</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">B23
</span><span>        </span><span style="color:#0a8dbf;">pin</span><span> io_button</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">3</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">B24
</span><span>        </span><span style="color:#0a8dbf;">pin</span><span> io_button</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">4</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">C49
</span><span>    </span><span style="color:#ed4343;">}
</span><span>    
</span><span>    </span><span style="color:#0a8dbf;">pin</span><span> io_select</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">0</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">A9
</span><span>    </span><span style="color:#0a8dbf;">pin</span><span> io_select</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">1</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">A8
</span><span>    </span><span style="color:#0a8dbf;">pin</span><span> io_select</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">2</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">A42
</span><span>    </span><span style="color:#0a8dbf;">pin</span><span> io_select</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">3</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">A43
</span><span>    
</span><span>    </span><span style="color:#0a8dbf;">pin</span><span> io_segment</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">0</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">A5
</span><span>    </span><span style="color:#0a8dbf;">pin</span><span> io_segment</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">1</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">A6
</span><span>    </span><span style="color:#0a8dbf;">pin</span><span> io_segment</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">2</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">A48
</span><span>    </span><span style="color:#0a8dbf;">pin</span><span> io_segment</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">3</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">A46
</span><span>    </span><span style="color:#0a8dbf;">pin</span><span> io_segment</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">4</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">A45
</span><span>    </span><span style="color:#0a8dbf;">pin</span><span> io_segment</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">5</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">A3
</span><span>    </span><span style="color:#0a8dbf;">pin</span><span> io_segment</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">6</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">A2
</span><span>    </span><span style="color:#0a8dbf;">pin</span><span> io_segment</span><span style="color:#ed4343;">[</span><span style="color:#a269dc;">7</span><span style="color:#ed4343;">] </span><span style="color:#d45ada;">A49
</span><span style="color:#ed4343;">}
</span></code></pre>
<p>All the <code class ="language-acf" data-lang="acf"><span style="color:#0a8dbf;">pin</span></code> constraints are enclosed in the first attribute block specifying the <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">PINOUT</span></code> and <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">STANDARD</span></code>.
The <code class ="language-acf" data-lang="acf"><span>io_dip</span></code> and <code class ="language-acf" data-lang="acf"><span>io_button</span></code> signals all also have their pulldowns enabled via the <code class ="language-acf" data-lang="acf"><span style="color:#d45ada;">PULL</span><span style="color:#ed4343;">(</span><span style="color:#d45ada;">DOWN</span><span style="color:#ed4343;">)</span></code> block.</p>
<p>Just like in Lucid, these attribute blocks can be nested.</p>
<p>This update adds quite a bit of capability to the ACF format which will allow native support for more projects like HDMI signals on the <a href="https://shop.alchitry.com/products/alchitry-hd">Hd</a>.</p>

    </div>
    

    <footer class="post-footer">
        

        
        



<nav class="paginav">
    
        
        <a class="prev" href="https:&#x2F;&#x2F;alchitry.com&#x2F;news&#x2F;alchitry-v2-design-update&#x2F;">
            <span class="title">« Prev</span>
            <br>
            <span>Alchitry V2 - Production Begins</span>
        </a>
        
        
        <a class="next" href="https:&#x2F;&#x2F;alchitry.com&#x2F;news&#x2F;alchitry-labs-v2-0-24&#x2F;">
            <span class="title">Next »</span>
            <br>
            <span>Alchitry Labs V2.0.24 - Negative Indices</span>
        </a>
        
    
</nav>


        
        
    </footer>

</article>

    </main>
    
    <footer class="footer">
    <div>
        <div class="social-icons">
    
    <a href="https:&#x2F;&#x2F;github.com&#x2F;alchitry" target="_blank" rel="noopener noreferrer me" title="GitHub">
        

<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path
        d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22">
    </path>
</svg>


    </a>
    
    <a href="https:&#x2F;&#x2F;youtube.com&#x2F;c&#x2F;alchitry" target="_blank" rel="noopener noreferrer me" title="YouTube">
        

<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path
        d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z">
    </path>
    <polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon>
</svg>


    </a>
    
    <a href="https:&#x2F;&#x2F;alchitry.com&#x2F;atom.xml" target="_blank" rel="noopener noreferrer me" title="RSS">
        

<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path d="M4 11a9 9 0 0 1 9 9" />
    <path d="M4 4a16 16 0 0 1 16 16" />
    <circle cx="5" cy="19" r="1" />
</svg>


    </a>
    
</div>

        <span>&copy; 2026 <a href="https:&#x2F;&#x2F;alchitry.com">Alchitry</a></span>
    </div>
</footer>


<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="#e3e3e3"><path d="M440-320h80v-168l64 64 56-56-160-160-160 160 56 56 64-64v168Zm40 240q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg>
</a>


<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>


<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>


<script>
    /* Open */
    function openNav() {
        document.getElementById("overlayNav").style.display = "block";
    }

    /* Close */
    function closeNav() {
        document.getElementById("overlayNav").style.display = "none";
    }
</script>



<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'copy';

        function copyingDone() {
            copybutton.innerText = 'copied!';
            setTimeout(() => {
                copybutton.innerText = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            let codeText = '';

            // 1. Check if the codeblock contains a table (Line Numbers present)
            const tableRows = codeblock.querySelectorAll('table tr');

            if (tableRows.length > 0) {
                const lines = [];
                tableRows.forEach(row => {
                    // The actual code is in the last TD
                    const codeCell = row.lastElementChild;
                    if (codeCell) {
                        let cellText = codeCell.textContent;

                        if (cellText.endsWith('\n')) {
                            cellText = cellText.slice(0, -1);
                        }

                        lines.push(cellText);
                    }
                });
                codeText = lines.join('\n');
            } else {
                // 2. No table, use standard text extraction
                codeText = codeblock.textContent;
            }

            // 3. Copy the cleaned text to clipboard
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeText);
                copyingDone();
                return;
            }

            // Fallback for older browsers
            const textArea = document.createElement('textarea');
            textArea.value = codeText;
            document.body.appendChild(textArea);
            textArea.select();
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) {
                console.error('Copy failed', e);
            }
            document.body.removeChild(textArea);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            // td containing LineNos
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            // table containing LineNos and code
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            // code blocks not having highlight as parent class
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>

<script type="text/javascript" src="https://alchitry.com/elasticlunr.min.js"></script>
<script type="text/javascript" src="https://alchitry.com/search.js"></script>
<script type="module" src="https://alchitry.com/table-toggles.js"></script>
    
</body>
</html>
